# This is most ( but not all ) of the kargs from SecureBlue. I removed the lockdown mode so KSM still works and left SMT enabled.

kargs = [
  "init_on_alloc=1",
  "init_on_free=1",
  "intel_iommu=on",
  "iommu.passthrough=0",
  "iommu.strict=1",
  "iommu=force",
  "kvm-intel.vmentry_l1d_flush=always",
  "kvm.mitigate_smt_rsb=1",
  "l1d_flush=on",
  "l1tf=full,force",
  "loglevel=0",
  "mitigations=auto",
  "module.sig_enforce=1",
  "page_alloc.shuffle=1",
  "proc_mem.force_override=ptrace",
  "pti=on",
  "random.trust_bootloader=off",
  "random.trust_cpu=off",
  "randomize_kstack_offset=on",
  "rd.emergency=halt",
  "rd.shell=0",
  "slab_nomerge",
  "spec_store_bypass_disable=on",
  "spectre_v2=on",
  "ssbd=force-on",
  "vdso32=0",
  "vsyscall=none",
]